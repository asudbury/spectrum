@using Spectrum.Content.Customer.ViewModels
@model ClientViewModel

<div class="center-content">
    <div class="row">
        <div class="col-sm-6 col-md-4 col-md-offset-4">
            <div class="account-wall">

                <h2 class="partial-title">Client</h2>

                <table class="table-responsive table table-striped table-bordered">
                    <tbody>
                        <tr>
                            <td>Client Id</td>
                            <td>@Model.Id</td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td>@Model.Name</td>
                        </tr>

                    @if (string.IsNullOrEmpty(Model.EmailAddress) == false)
                    {
                        <tr>
                            <td>Email</td>
                            <td>
                                <a href="mailto:@Model.EmailAddress">@Model.EmailAddress</a>
                            </td>
                        </tr>
                    }
                    
                    <tr>
                        <td>Address</td>
                        <td>
                            @if (string.IsNullOrEmpty(Model.Address) == false)
                            {
                                <a href="@Model.GoogleSearchUrl" target="_blank">@Model.Address</a>
                            }
                            else
                            {
                                <a href="@Model.GoogleSearchUrl" target="_blank">@Model.BuildingNumber @Model.PostCode</a>
                            }
                        </td>
                    </tr>

                    @if (string.IsNullOrEmpty(Model.HomePhoneNumber) == false)
                    {
                        <tr>
                            <td>Home</td>
                            <td>
                                <a href="tel:@Model.HomePhoneNumber">@Model.HomePhoneNumber</a>
                            </td>
                        </tr>
                    }
                    
                    @if (string.IsNullOrEmpty(Model.MobilePhoneNumber) == false)
                    {
                        <tr>
                            <td>Mobile</td>
                            <td>
                                <a href="tel:@Model.MobilePhoneNumber">@Model.MobilePhoneNumber</a>
                            </td>
                        </tr>
                    }

                    </tbody>
                    </table>
                
                    @if (string.IsNullOrEmpty(Model.CreateQuoteUrl) == false)
                    {
                        <a class="btn btn-lg btn-primary btn-block button-stack" role-"button" href="@Model.CreateQuoteUrl">Create Quote</a>
                    }
                
                    @if (string.IsNullOrEmpty(Model.CreateInvoiceUrl) == false)
                    {
                        <a class="btn btn-lg btn-primary btn-block button-stack" role-"button" href="@Model.CreateInvoiceUrl">Create Invoice</a>
                    }
                
                    @if (string.IsNullOrEmpty(Model.CreateAppointmentUrl) == false)
                    {
                        <a class="btn btn-lg btn-primary btn-block button-stack" role-"button" href="@Model.CreateAppointmentUrl">Create Appointment</a>
                    }
                
                    <a class="btn btn-lg btn-primary btn-block button-stack" role-"button" href="@Model.UpdateClientUrl">Update Client</a>
            </div>
        </div>
    </div>
</div>



<script type="text/javascript">

    $(document).ready(function () {

        $('#deleteAppointment').click(function () {
            event.preventDefault();

            confirm("Confirm you want to delete this apppointment",
                function () {
                    var href = $('#deleteAppointment').attr('href');

                    $.ajax({
                        url: href,
                        success: function (data) {
                            window.location.href = data;
                        }
                    });
                });
        });
    });

</script>